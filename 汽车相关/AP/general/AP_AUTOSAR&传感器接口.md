# 前言
自动驾驶工程中的**数据融合模块**是指**将来自多个传感器的数据进行整合和处理**，以提高自动驾驶系统的感知能力和决策能力。
传感器通常包括**摄像头、激光雷达、毫米波雷达、GPS**等，每个传感器都可以提供不同类型的数据，例如**图像、点云、距离、速度**等。
数据融合模块的**主要任务**是**将来自不同传感器的数据进行整合和处理，以提高系统对周围环境的感知能力**。
具体来说，数据融合模块可以**将不同传感器的数据进行配准和校准，以消除传感器之间的误差和偏差**。
然后，它可以将不同传感器的数据进行融合，以提供更全面、更准确的环境感知信息。最后，数据融合模块可以将融合后的数据提供给决策模块，以帮助自动驾驶系统做出更准确、更可靠的决策。
数据融合模块的核心是**算法**，包括传感器数据处理、数据配准、数据融合等。常用的算法包括卡尔曼滤波、扩展卡尔曼滤波、粒子滤波等。这些算法可以根据不同的传感器类型和数据特点进行优化和调整，以提高数据融合的效果和准确性。

# 自动驾驶 面临的问题挑战
1. 为了应对自动驾驶L3-L5的挑战，AUTOSAR组织的重要工作就是标准化复杂的硬件和软件部分，降低开发和验证成本。
2. 自动驾驶依赖一些传感器，所以当前的重点是标准化那些与数据融合算法相关的传感器接口，也就是对传感器接口进行标准化
3. 自动驾驶车载传感器包括:摄像头、激光雷达、毫米波雷达、超声波雷达，其上都会运行一些和Safety相关的程序
4. OEM、供应商、服务商以及工具供应商之间应该要减少开发和验证自动驾驶功能的成本和时间

# 现状
目前，用于自动驾驶功能的传感器接口是专有的，并且供应商之间有所不同。那么集成新的传感器时工作量很大，那些逻辑接口和语义接口(定义了哪些传感器数据或信号是必选的或可选的，以及如何去定义)都需要根据功能安全的要求(目前是`ISO 23150`)进行重新设计或定制开发。


# 自动驾驶传感器用例
## 传感器融合集成
将数据融合算法集成到Adaptive Application中


# 传感器接口设计
## 示例1 传感器直接连接到AUTOSAR自适应ECU
***通过以太网连接，或者是高速CAN(需要使用S2S模块)***
AP AUTOSAR应用程序中会运行和自动驾驶相关的算法，以及传感器融合的算法。
传感器融合会通过AP AUTSAR的ARA从传感器ECU获取数据，ARA会规范传感器接口，上层开发就要根据这些接口(会有相应的框架代码生成)进行相应的开发。
ARA还会标准化传感器驱动或者说预处理相关的一些内容。

## 示例2 将传感器数据从一个AP ECU提供给另一个AP ECU
***跨域通信***

使用`SOME/IP`或`DDS`

## 设计
传感器接口属于`ara::adi`(`Automotive Driver Interface`)

AP AUTOSAR将传感器接口设计成一个Service功能集群，和上层交互借助`ara::com`








