### 2.1.2 BaseThread
The Vector Adaptive Thread Library provides a thread instantiation that does not implement memory management and hence avoids using dynamic memory. The responsibility for the thread entry point and any arguments stays with the caller who must ensure that these are valid for the entire lifetime of the thread.

### 2.1.3 Thread
The Vector Adaptive Thread Library provides a thread instantiation that implements memory management for the thread entry point and associated arguments. These resources together with the thread name are bound to the thread instance itself. The name is set during instantiation and is unambiguously retrievable in user context.

### 2.1.4 Thread Pool
The Vector Adaptive Thread Library provides a thread pool that instantiates and manages a specified number of threads that process work of a work queue. A thread pool is configured with the type of the work it shall process. Work can be submitted during runtime. Worker threads of the thread pool are configurable with the configuration values of 2.1.1. Here, the name serves as a basis for the target name of an individual worker thread, each thread receives a unique name by appending an enumeration value to the base name (e.g. for name = "base" , the final thread names are base0, base1 ...).



## 5.3 Runtime Configuration
### 5.3.1 Configurable Thread Settings
Each Process that maps to an Executable which uses Vector Adaptive Thread Library can specify configuration of thread settings, in the corresponding ADMIN-DATA, using the model extension described in 2.6.1, which can then be retrieved and applied during runtime by Vector Adaptive Thread Library API.

Each thread configurable setting contains:
* A mandatory identifier, which uniquely identifies the thread configuration.
* One or more optional settings (e.g. scheduling settings)
Default value for not configured scheduling settings are `the inherited policy, priority from parent thread`. Configuration identifiers and their mapping to the spawned threads are statically defined by each component. Refer to the related component Technical Reference to know which configurations are available, with which identifier and to which thread does the configuration apply. The Vector Adaptive Thread Library runtime configuration is generated by amsr_thread_config generator from an ARXML configuration and is written into a Vector internal specific formatted file, namely thread_config.json , which is parsed during library initialization. The generated thread_config.json file must be placed in the directory etc in parallel to the current working directory.
The Vector Adaptive Thread Library implements different policies to retrieve and parse a given configuration: they are described in 5-1. In order to select one of the described policy the environment variable `AMSR_THREAD_CONFIGURABLE_SETTINGS` has to be set in the corresponding STARTUP-CONFIG (refer to Executable Configuration section of Execution Management Technical Reference for detailed configuration description.)
PS: 
```sh
export AMSR_THREAD_CONFIGURABLE_SETTINGS=ON # 注意！！！不要设置成全局的
```



# 相关初始化代码
## 流程
1. 读`thread_config.json`，解析，并存储
src-gen:    `lifecycle.cpp`
对该配置文件一通解析，存储到`ThreadRuntimeConfig`对象所持有的`std::vector<amsr::thread::ThreadConfig>`对象
```cpp
ParseThreadConfiguration();
```

2. 运行时 环境变量
`AMSR_THREAD_CONFIGURABLE_SETTINGS`

3. 根据配置，创建线程





















