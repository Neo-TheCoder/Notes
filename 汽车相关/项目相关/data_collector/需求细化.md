# 主要任务

## 收集两类文件：
数据收集线程执行：
1. 并行收集非通信文件 --> 待处理队列
2. 查询通信文件，需要等待5秒后，recorder过来的通知，触发文件的拷贝

## 数据处理线程：
持续从待处理队列中，执行`打包和压缩`操作（以Task类的形式，交由线程池处理）
已压缩文件 --> 待上云队列

## 数据上传线程：
对于待上云队列的数据，根据文件大小做不同处理
1. 小于等于10M，调用`云端通信模块v2c_sdk`的`小文件上传接口`
2. 大于10M，调用`分片传送上传接口`进行文件上传操作

## 备份压缩包：
确认数据已经上云后，将压缩包拷贝到`/smart_data/col/uploaded`目录下；统计uploaded下面的文件数量，大于预设的最大值，将最老的压缩包删除；

## 操作日志记录：
在`/smart_data/col/`目录下创建一个`操作日志`，记录：
数据收集、包括`非通信数据、通信数据的收集情况`、`数据打包、数据压缩、数据上传`的整个pipeline情况；

操作日志不上传，主要是给自身模块debug用。目的是记录上次下电的时候，dc执行到哪一步了。
dc本次上电后，会根据解析的结果，继续执行上一次的操作。	
